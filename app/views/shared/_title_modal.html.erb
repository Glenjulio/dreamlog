<!-- app/views/shared/_title_modal.html.erb -->
<div class="custom-modal d-none"
     data-controller="modal"
     data-action="keydown@document->modal#keydown"
     style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10000; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;">

  <!-- Backdrop SANS action pour Ã©viter fermeture accidentelle -->
  <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(8px);"
       data-modal-target="backdrop">
  </div>

  <div data-modal-target="dialog"
       class="modal-dialog">

    <div style="padding: 24px 24px 16px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
      <h3 style="margin: 0; font-size: 1.25rem; font-weight: 600; color: white; text-align: center;" data-modal-target="title">
        Enter dream title
      </h3>
    </div>

    <div style="padding: 20px 24px;">
      <div style="margin-bottom: 20px;">
        <input type="text"
               id="dream-title-input"
               data-modal-target="input"
               placeholder="Give your dream a memorable title..."
               maxlength="200"
               autocomplete="off"
               style="width: 100%; padding: 12px 16px;"
               class="gradient_neon_blue">
      </div>
    </div>

    <div style="padding: 16px 24px 24px; display: flex; gap: 12px; justify-content: flex-end;">
      <button type="button"
              data-modal-target="cancelButton"
              data-action="click->modal#cancel"
              class="gradient-button">
        Cancel
      </button>

      <button type="button"
              data-modal-target="confirmButton"
              data-action="click->modal#confirm"
              class="gradient-button">
        Save Dream
      </button>
    </div>

  </div>
</div>

<style>
.custom-modal.show {
  opacity: 1 !important;
}

.custom-modal.show [data-modal-target="dialog"] {
  transform: translateY(0) scale(1) !important;
}

.custom-modal button:hover {
  transform: translateY(-1px) !important;
}
</style>
