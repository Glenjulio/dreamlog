<div class="d-flex flex-column justify-content-between align-items-center min-vh-100 text-white">
  <!-- Logo -->
  <div class="text-center mt-4">
    <h1 class="display-3 fw-bold dreamlog-title">DreamLog</h1>
  </div>

  <!-- Subtitle -->
  <div class="text-center mt-4">
    <h2 class="display-6 text-white fw-bold">Describe your dream!</h2>
  </div>

  <!-- Zone centrale avec bouton unique -->
  <div class="d-flex flex-column flex-grow-1 justify-content-center align-items-center w-100 gap-3">

    <!-- Contrôleur Stimulus -->
    <div data-controller="recordings" class="d-flex flex-column align-items-center gap-3">

      <!-- Chronomètre -->
      <div class="mb-2">
        <span data-recordings-target="timer" class="timer-display d-none">00:00</span>
      </div>

      <!-- Bouton Supprimer (au-dessus du bouton principal) -->
      <div class="delete-button-wrapper d-none" data-recordings-target="deleteButton">
        <button
          data-action="click->recordings#discardRecording"
          class="gradient-button btn-outline"
          title="Delete"
        >
          <i class="fas fa-trash"></i>
        </button>
      </div>

      <!-- Bouton principal multifonction (record/stop/play) -->
      <button
        data-action="click->recordings#toggle"
        data-recordings-target="button"
        class="record-button btn text-white shadow-lg"
        title="Start recording"
      >
        <i class="fa-solid fa-microphone-lines fa-2x"></i>
      </button>

      <!-- Bouton Enregistrer -->
      <div class="decision-buttons-wrapper d-none" data-recordings-target="saveButton">
        <div class="decision-buttons">
          <button
            data-action="click->recordings#saveAndTranscribe"
            class="gradient-button"
            title="Save"
          >
            <i class="fas fa-save"></i>
          </button>
        </div>
      </div>

    </div> <!-- Fin controller recordings -->

    <!-- Lien vers transcription manuelle -->
    <%= link_to new_dream_path,
      class: "d-none btn text-white shadow-lg",
      style: "width: 200px; height: 200px; border-radius: 50%; background: linear-gradient(45deg, #E175D3, #731F8A, #A87CDB); display: flex; align-items: center; justify-content: center; font-size: 2rem; border: none;" do %>
      Manual Transcription
    <% end %>
  </div>

  <!-- Navbar -->
  <%= render "shared/bottom_nav" %>
</div>
